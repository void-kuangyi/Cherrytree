Interface 1: Editor toolbar

Harlowe is intended for use inside [Twine 2](https://twinery.org/2), which installs with it included as the default format. When Harlowe is selected as the current story format for your story (via a dropdown menu in the Details tab of the Story menu), then it will augment Twine's passage editor with extra toolbar buttons. These buttons either allow markup to be quickly inserted into the passage code, or provide some other kind of assistance in editing.
These buttons are outlined as follows.

 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%27108%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2711%27%20x%3D%27-3%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-weight%3Abold%3Bfont-size%3A80%25%27%3EB%3C/text%3E%3Ctext%20y%3D%278%27%20x%3D%274%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-style%3Aitalic%3Bfont-size%3A80%25%27%3EI%3C/text%3E%3Ctext%20y%3D%2713%27%20x%3D%277%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/text-decoration%3Aline-through%3Bfont-size%3A80%25%27%3ES%3C/text%3E%3C/svg%3E"> **Text styles**: each item in this dropdown menu (or, depending on version, set of buttons) wraps the selected text in one of the [markup styles](#markup_style) Harlowe offers. Selecting "More Styles" will produce a dialog box that allows you to mix and match a wider variety of styles, displaying a preview pane containing your chosen combination. That dialog, when OK is clicked, will wrap the selected text in a hook (or, if "affect the entire remainder of the passage or hook" was selected, adds an [unclosed hook](#markup_unclosed-hook))with an attached (text-style:) macro call that enables them.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22X%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22hsla%280%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%2216%25%22%20stop-color%3D%22hsla%2830%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%2233%25%22%20stop-color%3D%22hsla%2860%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%2250%25%22%20stop-color%3D%22hsla%28120%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%2266%25%22%20stop-color%3D%22hsla%28180%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%2283%25%22%20stop-color%3D%22hsla%28240%2C100%25%2C50%25%2C0.5%29%22/%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22hsla%28320%2C100%25%2C50%25%2C0.5%29%22/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle%20cx%3D%228%22%20cy%3D%228%22%20r%3D%226%22%20fill%3D%22url%28%27%23X%27%29%22/%3E%3C/svg%3E"> **Colour**: this produces a dialog box that lets you set the text colour and opacity, as well as set the background to a flat colour or a linear gradient. Choosing OK will do one of a number of things depending on which "affect" option was selected.
   * When affecting "the attached hook", it wraps the selected text in a hook with an attached (bg:) and/or (text-colour:) changer.
   * When affecting "the remainder of the passage or hook", it adds an [unclosed hook](#markup_unclosed-hook) with an attached (bg:) and/or (text-colour:) changer.
   * When affecting "the entire passage" or "the entire page", it adds an (enchant:) macro call targeting either the ?Passage or ?Page hook name, and applying a (bg:) and/or (text-colour:) changer.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M240%20416h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm-96%200h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm192%200h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm96-192h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0%2096h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0%2096h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0-288h-32a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0-96H32A32%2032%200%200%200%200%2064v400a16%2016%200%200%200%2016%2016h32a16%2016%200%200%200%2016-16V96h368a16%2016%200%200%200%2016-16V48a16%2016%200%200%200-16-16z%22/%3E%3C/svg%3E"> **Borders**: this produces a dialog box that lets you specify HTML border styles for all four sides of a block of text. Choosing OK will do one of a number of things depending on which "affect" option was selected.
   * When affecting "the attached hook", it wraps the selected text in a hook with an attached (b4r:), (b4r-size:) and/or (b4r-colour:) changer.
   * When affecting "the remainder of the passage or hook", it adds an [unclosed hook](#markup_unclosed-hook) with an attached (b4r:), (b4r-size:) and/or (b4r-colour:) changer.
   * When affecting "the entire passage", it adds an (enchant:) macro call targeting the ?Passage hook name, and applying a (b4r:), (b4r-size:) and/or (b4r-colour:) changer.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2714%27%20x%3D%27-3%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/transform%3Arotate%28-30deg%29%3Bfont-family%3Aserif%3B%27%3ER%3C/text%3E%3C/svg%3E"> **Rotated text**: this produces a dialog box that lets you rotate a block of text through 3 geometric axes. Choosing OK will wrap the selected text in a hook (or, if "affect the entire remainder of the passage or hook" was selected, adds an [unclosed hook](#markup_unclosed-hook)) with an attached (text-rotate-x:), (text-rotate-y:) and/or (text-rotate-z:) changer.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M61.77%20401l17.5-20.15a19.92%2019.92%200%200%200%205.07-14.19v-3.31C84.34%20356%2080.5%20352%2073%20352H16a8%208%200%200%200-8%208v16a8%208%200%200%200%208%208h22.83a157.41%20157.41%200%200%200-11%2012.31l-5.61%207c-4%205.07-5.25%2010.13-2.8%2014.88l1.05%201.93c3%205.76%206.29%207.88%2012.25%207.88h4.73c10.33%200%2015.94%202.44%2015.94%209.09%200%204.72-4.2%208.22-14.36%208.22a41.54%2041.54%200%200%201-15.47-3.12c-6.49-3.88-11.74-3.5-15.6%203.12l-5.59%209.31c-3.72%206.13-3.19%2011.72%202.63%2015.94%207.71%204.69%2020.38%209.44%2037%209.44%2034.16%200%2048.5-22.75%2048.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496%20224H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0-160H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16V80a16%2016%200%200%200-16-16zm0%20320H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zM16%20160h64a8%208%200%200%200%208-8v-16a8%208%200%200%200-8-8H64V40a8%208%200%200%200-8-8H32a8%208%200%200%200-7.14%204.42l-8%2016A8%208%200%200%200%2024%2064h8v64H16a8%208%200%200%200-8%208v16a8%208%200%200%200%208%208zm-3.91%20160H80a8%208%200%200%200%208-8v-16a8%208%200%200%200-8-8H41.32c3.29-10.29%2048.34-18.68%2048.34-56.44%200-29.06-25-39.56-44.47-39.56-21.36%200-33.8%2010-40.46%2018.75-4.37%205.59-3%2010.84%202.8%2015.37l8.58%206.88c5.61%204.56%2011%202.47%2016.12-2.44a13.44%2013.44%200%200%201%209.46-3.84c3.33%200%209.28%201.56%209.28%208.75C51%20248.19%200%20257.31%200%20304.59v4C0%20316%205.08%20320%2012.09%20320z%22/%3E%3C/svg%3E"> **List and line items**: the items in this dropdown menu insert syntax elements that affect a single line: the [bulleted list markup](#markup_bulleted-list), the [numbered list markup](#markup_numbered-list), a [horizontal rule](#markup_horizontal-rule), or the level 1 [heading markup](#markup_heading). These each have very simply and easy-to-memorise syntax, but this menu exists in case you forget.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M432%20160H16a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h416a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zm0%20256H16a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h416a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16zM108.1%2096h231.81A12.09%2012.09%200%200%200%20352%2083.9V44.09A12.09%2012.09%200%200%200%20339.91%2032H108.1A12.09%2012.09%200%200%200%2096%2044.09V83.9A12.1%2012.1%200%200%200%20108.1%2096zm231.81%20256A12.09%2012.09%200%200%200%20352%20339.9v-39.81A12.09%2012.09%200%200%200%20339.91%20288H108.1A12.09%2012.09%200%200%200%2096%20300.09v39.81a12.1%2012.1%200%200%200%2012.1%2012.1z%22/%3E%3C/svg%3E"> **Alignment and Columns**: this dropdown menu features two items.
   * **Alignment** produces a dialog box that lets you adjust the horizontal margins, width and alignment of a block of text. Choosing OK will wrap the selected text in a hook (or, if "affect the entire remainder of the passage or hook" was selected, adds an [unclosed hook](#markup_unclosed-hook)) with an attached (align:) and/or (box:) changer.
   * **Columns** produces a dialog box that lets you define two or more columns of text, each with their own width and margins. Choosing OK will insert the [column markup](#markup_column) into the passage, replacing any selected text.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2710%27%20x%3D%270%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-weight%3Abold%3Bfont-size%3A12px%27%3E%7B%20%7D%3C/text%3E%3C/svg%3E"> **Collapse whitespace**: this produces a dialog box that lets you choose between wrapping the selected text in the [collapsing whitespace markup](#markup_collapsing-whitespace), or insert the [unclosed collapsing whitespace markup](#markup_unclosed-collapsing-whitespace). The chosen option is performed when clicking OK.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2712%27%20x%3D%271%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-size%3A11px%27%3EVb%3C/text%3E%3C/svg%3E"> **Verbatim**: this wraps the selected text in the [verbatim markup](#markup_verbatim). If the selected text contains any grave `` ` `` marks, then enough `` ` `` marks will be used to unambiguously wrap it.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2710%27%20x%3D%27-1%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-weight%3Abold%3Bfont-size%3A11px%27%3E%26%2310216%3B%21-%3C/text%3E%3C/svg%3E"> **HTML Comments**: this wraps the selected text in the [HTML comments markup](#markup_html).
 * **Macro**: this dropdown menu can be used to choose from a number of "wizards" (dialog forms) that help you insert specific Harlowe macros that perform a certain common task. **Note** that these wizards only offer a limited number of features, and that understanding the relevant Harlowe macros, and writing their calls yourself, will provide more sophisticated control over them.
   * **Link**: this wizard lets you design a link (or specify that the page can be clicked), and the action to perform when clicking it.
   * **If**: this wizard lets you design a condition, involving various actions the player may have performed, or the current state of a variable, that causes a hook to be shown.
   * **Input**: this wizard lets you design either an (input-box:) command, a (force-input-box:) command, a (dropdown:) command, a (checkbox:) command, or a (dialog:) command, each of which can have their player-inputted value bound to a variable.
   * **Hook**: this very simple dialog lets you create a [named hook](#markup_named-hook).
   * **Value**: this wizard lets you design a (set:) command, which sets a single variable to a specific value.

Be aware for all of the above that, once OK is clicked and code has been placed, there isn't any way to "unmake" the code and return to the dialog that produced it. So, if you want to change some aspect of the resulting code, you'll have to edit it as-is.

The following buttons are toggleable - they enable or disable special editing modes or features.

 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M288%20144a110.94%20110.94%200%200%200-31.24%205%2055.4%2055.4%200%200%201%207.24%2027%2056%2056%200%200%201-56%2056%2055.4%2055.4%200%200%201-27-7.24A111.71%20111.71%200%201%200%20288%20144zm284.52%2097.4C518.29%20135.59%20410.93%2064%20288%2064S57.68%20135.64%203.48%20241.41a32.35%2032.35%200%200%200%200%2029.19C57.71%20376.41%20165.07%20448%20288%20448s230.32-71.64%20284.52-177.41a32.35%2032.35%200%200%200%200-29.19zM288%20400c-98.65%200-189.09-55-237.93-144C98.91%20167%20189.34%20112%20288%20112s189.09%2055%20237.93%20144C477.1%20345%20386.66%20400%20288%20400z%22/%3E%3C/svg%3E"> **Proofreading View**: this dims all of the passage code except for plain text, and string data. This is meant for proofreading the written prose of your passage, while reducing the distraction of colourful macro code. Because string data often carries fragments or portions of prose for display in the story (such as alternatives given to (nth:) or (either:)), those remain undimmed along with plain text. While you may wish to use the "Proof" feature in Twine 2 for more thorough proofreading, this is ideal for quicker reviews and corrections of individual passages.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M256%2032C114.6%2032%200%20125.1%200%20240c0%2049.6%2021.4%2095%2057%20130.7C44.5%20421.1%202.7%20466%202.2%20466.5c-2.2%202.3-2.8%205.7-1.5%208.7S4.8%20480%208%20480c66.3%200%20116-31.8%20140.6-51.4%2032.7%2012.3%2069%2019.4%20107.4%2019.4%20141.4%200%20256-93.1%20256-208S397.4%2032%20256%2032z%22/%3E%3C/svg%3E"> **Coding Tooltips**: enabled by default, this provides explanatory tooltips when you rest the editor cursor over a Harlowe macro, hook, or coding structure which isn't plain text. Once you have a decent grasp of how Harlowe code works, you can toggle these off to reduce editing distractions.

The remaining buttons offer additional editing utilities.

 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%20width%3D%2220%22%20height%3D%2220%22%3E%3Cpath%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20d%3D%22M505%20442.7L405.3%20343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3%2044-79.7%2044-128C416%2093.1%20322.9%200%20208%200S0%2093.1%200%20208s93.1%20208%20208%20208c48.3%200%2092.7-16.4%20128-44v16.3c0%206.4%202.5%2012.5%207%2017l99.7%2099.7c9.4%209.4%2024.6%209.4%2033.9%200l28.3-28.3c9.4-9.4%209.4-24.6.1-34zM208%20336c-70.7%200-128-57.2-128-128%200-70.7%2057.2-128%20128-128%2070.7%200%20128%2057.2%20128%20128%200%2070.7-57.2%20128-128%20128z%22/%3E%3C/svg%3E"> **Find and Replace**: this opens a rudimentary find/replace dialog, such as can be found in most text editors. Entering text in the "Find" box causes all instances to be highlighted <span style="background: rgba(204, 102, 255, 0.4)">purple</span> inside the editor. The ↑ and ↓ buttons change the "current match" (which is the match that will be replaced first using the "Replace" button) as well as scrolling it into view. You can use the dropdown to limit matches to either passage prose (to prevent macro names or keywords like `it` from being included), code (to prevent text from being included), or the current selection. Finally, you can make the search case-sensitive using a checkbox. Clicking Done will close the dialog box and remove the search highlighting.
 * <img style='height:24px' src="data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%2014%2014%27%20width%3D%2780%27%20height%3D%2780%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Ctext%20y%3D%2714%27%20x%3D%273%27%20fill%3D%27rgb%28179%2C%20179%2C%20179%29%27%20style%3D%27/*harlowe-3*/font-weight%3Abold%3Bfont-size%3A19px%3B%27%3E%3F%3C/text%3E%3C/svg%3E"> **Manual**: opens this web page.

Finally, while most of these buttons don't have visible labels, hovering over one will produce a small tooltip revealing its name.